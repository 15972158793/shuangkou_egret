var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},MyEvent;!function(e){function t(e,t){return"string"!=typeof e||""==e||"function"!=typeof t?!1:(a[e]={callback:t,isOnce:!1},!0)}function i(e,t){return"string"!=typeof e||""==e||"function"!=typeof t?!1:o(e)?!1:(a[e]={callback:t,isOnce:!0},!0)}function s(e){return"string"!=typeof e||""==e?!1:o(e)?(delete a[e],!0):!1}function n(e,t){if("object"!=typeof e&&0!=arguments.length){if(o(e)){var i={};t&&(i=t),a[e].callback(i),a[e].isOnce&&s(e)}}else for(var n in a)a[n].callback(e)}function o(e){var t=a[e];return t&&"object"==typeof t?!0:!1}function r(e){for(var t in a)a[t].callback(e||{}),a[t].isOnce&&s(t)}var a={};e.add=t,e.addOnce=i,e.remove=s,e.dispatch=n,e.isExist=o,e.dispatchAll=r}(MyEvent||(MyEvent={}));var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,i){function s(s){t.call(i,s,e)}if(RES.hasRes(e)){var n=RES.getRes(e);n?s(n):RES.getResAsync(e,s,this)}else RES.getResByUrl(e,s,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var EndItem=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){this.allfen.text=this.getFenText(this.data.allfen),0==this.data.allfen?this.allfen.textColor=14172195:this.data.allfen>0?this.allfen.textColor=14172195:this.allfen.textColor=3906580,this.setIcon(this.data.url)},t.prototype.getFenText=function(e){var t;return 0>e&&e>-10?t=e+" ":10>e&&e>=0?t="+"+e+" ":-10>=e?t=e+"":e>=10&&(t="+"+e)," "+t+" "},t.prototype.setIcon=function(e){RES.getResByUrl(e,this.eventNetCallback,this,RES.ResourceItem.TYPE_IMAGE)},t.prototype.eventNetCallback=function(e){try{var t=e,i=new egret.Bitmap(t);i.width=37.5,i.height=37.5,i.x=101.5,i.y=6,this.addChild(i)}catch(e){console.log(e)}},t}(eui.ItemRenderer);__reflect(EndItem.prototype,"EndItem",["eui.UIComponent","egret.DisplayObject"]);var EndPanel=function(e){function t(){var t=e.call(this)||this;return t.type="s_end",t.notRemove=!0,t.isEnd=!1,t.data=[],t}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){var i=this;e.prototype.childrenCreated.call(this),this.next_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){if(util.closePanel(i,2),console.log("next_btn"),null==GameModule.allEndData)SocketHelper.send(85),MyEvent.dispatch("eventSetReady",!1);else{var e=new t;e.setData("all_end"),util.showPanel(e,1,!0)}},this),this.arrayCollection=new eui.ArrayCollection(this.data),this.list.dataProvider=this.arrayCollection,this.list.itemRenderer=EndItem,this.all_end_group.visible=this.isEnd,this.next_btn.visible=!this.isEnd,this.agin_btn.addEventListener(egret.TouchEvent.TOUCH_END,function(){util.closePanel(i,2),SocketHelper.removeAllSocketEvent(),GameModule.exitRoom()},this),this.share_btn.addEventListener(egret.TouchEvent.TOUCH_END,function(){var e="";for(var t in GameModule.allEndData)e+=GameModule.allEndData[t].nickName,e+=":"+GameModule.allEndData[t].integral+",";console.log("shareDesc   _________________   ",e),GameModule.shareCallFun(e.substring(0,e.length-1))},this)},t.prototype.setData=function(e){var t=[];if("s_end"==e){this.isEnd=!1,this.currentState="s_end";for(var i=0;4>i;i++)t.push({topNum:i+1,name:GameModule.endShowData[i].nickName,allfen:GameModule.endShowData[i].integral,url:GameModule.endShowData[i].headImgUrl})}else{this.isEnd=!0,GameModule.isGame=!1;for(var i=0;4>i;i++)t.push({topNum:i+1,name:GameModule.allEndData[i].nickName,allfen:GameModule.allEndData[i].integral,url:GameModule.allEndData[i].headImgUrl})}this.data=t,this.arrayCollection&&this.arrayCollection.replaceAll(t)},t}(eui.Panel);__reflect(EndPanel.prototype,"EndPanel",["eui.UIComponent","egret.DisplayObject"]);var GameModule;!function(e){function t(t,i){null!=e.disband&&(util.closePanel(e.disband,1),e.disband=null),e.disband=new Disband(t,i),util.showPanel(e.disband,1,!0)}function i(){e.pokers=[];for(var t=0;13>t;t++)for(var i=0;4>i;i++)e.pokers.push(u[i]+"_"+(t+1))}function s(){e.gif_json=RES.getRes("msg_gif_json"),e.gif_img=RES.getRes("msg_gif_png"),d=new egret.MovieClipDataFactory(e.gif_json,e.gif_img),e.gif_json2=RES.getRes("msg_gif2_json"),e.gif_img2=RES.getRes("msg_gif2_png"),h=new egret.MovieClipDataFactory(e.gif_json2,e.gif_img2),e.gif_json3=RES.getRes("13dao_7_json"),e.gif_img3=RES.getRes("13dao_7_png"),p=new egret.MovieClipDataFactory(e.gif_json3,e.gif_img3)}function n(e,t){return 2==t?h.generateMovieClipData("expression-Magic"+e):d.generateMovieClipData("expression"+e)}function o(e){return p.generateMovieClipData(e)}function r(){}function a(){return[1,2,3,4,8,9,10,11,15,16,17,18,22]}function l(){}e.pokers=[],e.pokerList=[1,2,3,4,8,9,10,11,15,16,17,18,22],e.touchStatPostion={x:0,y:0},e.cardNum=0,e.sexList=[],e.exitRoom=function(){},e.shareCallFun=function(e){},e.invitationCallFun=function(e,t,i,s){};var h,d,p,u=["A","B","C","D"];e.disband=null,e.getDisband=t,e.initPokers=i,e.loadGif=s,e.getGif=n,e.getWinGif=o,e.initDate=r,e.getPoker=a,e.getGameDate=l}(GameModule||(GameModule={}));var Icon=function(e){function t(){var t=e.call(this)||this;return t.memoryState="",t.url="",t}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.setData=function(e){null==e?this.currentState="noData":(this.fenText.text=e.integral+"",this.nameText.text=e.nickName,this.zhuang.visible=!1,console.log(e.owner),1==e.owner?this.zhuang.visible=!0:this.zhuang.visible=!1,this.index=e.index,this.setIcon(e.headImgUrl),this.currentState=this.memoryState,this.url=e.headImgUrl,this.lixian.visible=!1,6==e.status&&(this.lixian.visible=!0))},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.memoryState=this.currentState},t.prototype.setIcon=function(e){RES.getResByUrl(e,this.eventNetCallback,this,RES.ResourceItem.TYPE_IMAGE)},t.prototype.eventNetCallback=function(e){try{var t=e,i=new egret.Bitmap(t);i.width=72,i.height=72,this.iconGroup.addChild(i)}catch(e){console.log(e)}},t}(eui.Component);__reflect(Icon.prototype,"Icon",["eui.UIComponent","egret.DisplayObject"]);var JIeSanItem=function(e){function t(){var t=e.call(this)||this;return t.myState="null",t}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.currentState=this.myState},t.prototype.setData=function(e,t,i){console.log(e),1==Number(e)?(this.currentState="tong",this.myState="tong",this.isAr.source=RES.getRes("jiesan_t_png"),console.log("tong")):2==Number(e)?(this.currentState="bu",this.myState="bu",this.isAr.source=RES.getRes("jiesan_f_png"),console.log("bu")):(this.currentState="null",this.myState="null",this.isAr.source="",console.log("null")),this.nameL.text=""+t,this.setIcon(i)},t.prototype.setIcon=function(e){this.icon.removeChildren(),RES.getResByUrl(e,this.eventNetCallback,this,RES.ResourceItem.TYPE_IMAGE)},t.prototype.eventNetCallback=function(e){try{var t=e,i=new egret.Bitmap(t);i.width=72,i.height=72,i.x=50,this.icon.addChild(i)}catch(e){console.log(e)}},t}(eui.Component);__reflect(JIeSanItem.prototype,"JIeSanItem",["eui.UIComponent","egret.DisplayObject"]);var JieSanPanel=function(e){function t(t){var i=e.call(this)||this;return i.notRemove=!0,i.timeCount=0,i.data=t,i}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){var t=this;GameModule.jiesanUI=this,e.prototype.childrenCreated.call(this),this.cls_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){util.closePanel(t),t.timer.reset(),GameModule.jiesanUI=null},this),this.timer=new egret.Timer(50,160),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timeFun,this),this.timer.start(),this.cls_btn.visible=!1,this.timeCount=0,this.setData()},t.prototype.timeFun=function(){this.timeCount++,this.time.x=450*this.timeCount/160+110},t.prototype.setData=function(e){e&&(this.data=e);for(var t=[this.p1,this.p2,this.p3,this.p4],i=0;4>i;i++){var s=this.data[i];t[i].setData(s.status,s.nickName,s.headImgUrl)}},t}(eui.Component);__reflect(JieSanPanel.prototype,"JieSanPanel",["eui.UIComponent","egret.DisplayObject"]);var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var GameModule;!function(e){var t=[195,280,365,450,535];e.postionYList=[82,200,319];var i=[];e.endFen=[],e.endShowData=[],e.isGame=!1;var s=function(s){function n(){var e=s.call(this)||this;return e.selectPokerList=[[],[],[]],e.playerList=[[],[],[],[],[],[],[]],e.showListID=4,e.endPokerList=[],e.mpIndex=0,e.isF5=!1,e.percentWidth=100,e.percentHeight=100,e}return __extends(n,s),n.prototype.partAdded=function(e,t){s.prototype.partAdded.call(this,e,t)},n.prototype.childrenCreated=function(){s.prototype.childrenCreated.call(this),Sound.playBg(),this.initSelectPokerList(),e.movePoker=new eui.Image,e.movePoker.width=76,e.movePoker.height=109,e.movePoker.alpha=.6,this.addChild(e.movePoker),this.addEventListeners(),this.showListID=4,e.selectGroup=new SelectGroup,e.selectGroup.visible=!1,this.addChild(e.selectGroup),this.timer=new egret.Timer(1500,25),this.timer.addEventListener(egret.TimerEvent.TIMER,this.mingpai_709,this),this.timerPoker=new egret.Timer(500,6),this.timerPoker.addEventListener(egret.TimerEvent.TIMER,this.eventTimerPoker,this),this.defPlayerList=[[this.ready,this.ready1,this.ready2,this.ready3],[this.playerReady,this.playerReady1,this.playerReady2,this.playerReady3],[this.player,this.player1,this.player2,this.player3],[this.list,this.list1,this.list2,this.list3],[this.showList,this.showList1,this.showList2,this.showList3],[this.talk,this.talk1,this.talk2,this.talk3],[this.s_talk,this.s_talk1,this.s_talk2,this.s_talk3]],this.exitRoomGroup.visible=!0,e.isGame=!1,null!=e.msgData&&(console.log("set........."),this.eventSetPlayer(e.msgData)),e.loadGif(),e.mainUI=this,panelMg.scene=this.parent,egret.Tween.get(this).wait(500).call(function(){SocketHelper.msgGo(),console.log(111111111111)}),console.log("现在版本最后日期 2017/7/20 23:42")},n.prototype.initUI=function(){this.selectGroup.visible=!1,this.initSmallUI(),this.small_player.visible=!1,this.ready_group.visible=!0,this.list.visible=!1,this.ready.visible=!1,this.ready1.visible=!1,this.ready2.visible=!1,this.ready3.visible=!1,this.ready_dlg.visible=!1,this.yaoqing_Group.visible=!0,this.readyBtn_group.visible=!0,this.yaoqing_btn.visible=!0,this.ready_btn.visible=!0,this.readyc_btn.visible=!1;for(var t in this.playerList[1])this.playerList[1][t].zhuang.visible=!1,this.playerList[2][t].zhuang.visible=!1;e.allEndData=null},n.prototype.addEventListeners=function(){e.movePoker.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.eventTouchMove_movePoker,this),e.movePoker.addEventListener(egret.TouchEvent.TOUCH_END,this.eventTouchEnd_movePoker,this),this.select_bg.addEventListener(egret.TouchEvent.TOUCH_END,this.eventTouchEnd_select_bg,this),this.ready_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_ready_btn,this),this.readyc_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_readyc_btn,this),this.exitRoom_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_exitRoom_btn,this),this.msg_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_msg_btn,this),this.rule_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_rule_btn,this),this.rule_info.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_rule_info,this),this.submit_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_submit_btn,this),this.qian_reset_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_qian_reset_btn,this),this.zhong_reset_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_zhong_reset_btn,this),this.hou_reset_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_hou_reset_btn,this),this.set_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_set_btn,this),this.yaoqing_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouch_yaoqing,this),MyEvent.add("eventSetPlayer",this.eventSetPlayer.bind(this)),MyEvent.add("eventPlayerReady",this.eventPlayerReady.bind(this)),MyEvent.add("eventStartGame",this.eventStartGame.bind(this)),MyEvent.add("eventNet_66",this.eventNet_66.bind(this)),MyEvent.add("eventNet_mingpai",this.eventNet_mingpai.bind(this)),MyEvent.add("eventNet_msg",this.eventNet_msg.bind(this)),MyEvent.add("eventNet_daolun",this.eventNet_daolun.bind(this)),MyEvent.add("eventNet_lixian",this.eventNet_lixian.bind(this)),MyEvent.add("setPlayer",this.setPlayer.bind(this)),MyEvent.add("eventNetStat_L",this.eventNetStat_L.bind(this)),MyEvent.add("eventNetShowWidth_L",this.eventNetShowWidth_L.bind(this)),MyEvent.add("eventNetEnd_L",this.eventNetEnd_L.bind(this)),MyEvent.add("eventSetReady",this.eventSetReady.bind(this))},n.prototype.eventTouch_yaoqing=function(){e.invitationCallFun("熊貓棋牌好友邀请房号:"+this.myData.roomId,"最好玩的棋牌游戏\r\n游戏模式:十三道\r\n局数:"+this.myData.nowNum,"?roomId="+this.myData.roomId,function(){})},n.prototype.eventSetReady=function(e){e?this.readyBtn_group.visible=!1:this.readyBtn_group.visible=!0},n.prototype.eventNet_lixian=function(e){this.playerList[1][e].lixian.visible=!0,this.playerList[0][e].visible=!1,this.playerList[2][e].lixian.visible=!0},n.prototype.eventTouchBegin_qian_reset_btn=function(){this.selectPokerListReset(0)},n.prototype.eventTouchBegin_zhong_reset_btn=function(){this.selectPokerListReset(1)},n.prototype.eventTouchBegin_hou_reset_btn=function(){this.selectPokerListReset(2)},n.prototype.eventTouchBegin_set_btn=function(){util.showPanel(new SetPanel,1,!0)},n.prototype.eventNet_daolun=function(){this.daolun.scaleX=0,this.daolun.scaleY=0,egret.Tween.get(this.daolun).to({scaleX:1,scaleY:1},300).wait(500).to({scaleX:0,scaleY:0},200)},n.prototype.eventNet_msg=function(e){console.log("eventNet_msg"),this.playerList[5][e.index].show(e),this.playerList[6][e.index].show(e),this.playerList[5][e.index].visible=!0,this.playerList[6][e.index].visible=!0},n.prototype.eventNet_mingpai=function(t){this.timer.reset(),this.timer.start(),this.start_showFen.visible=!0,e.sexList=[],e.sexList[1]=2==t.playeronesex?"nv":"nan",e.sexList[2]=2==t.playertwosex?"nv":"nan",e.sexList[3]=2==t.playerthreesex?"nv":"nan",e.sexList[4]=2==t.playerfoursex?"nv":"nan",Sound.playStartShowFen(e.sexList[this.myData.index]),i=t,this.showList.setData(null),this.mpIndex=-1},n.prototype.initSmallUI=function(){this.isF5=!1,this.showFen_1.visible=!1,this.showFen_2.visible=!1,this.showFen_3.visible=!1,this.threeCut1.visible=!1,this.threeCut2.visible=!1,this.threeCut3.visible=!1,this.showList.visible=!1,this.showList1.visible=!1,this.showList2.visible=!1,this.showList3.visible=!1,this.hongbolang.visible=!1,this.submit_btn.visible=!1,i=[],e.endFen=[],e.endShowData=[];for(var t=0;3>t;t++)for(var s in this.selectPokerList[t])this.selectPokerList[t][s].setPoker(null,null),this.selectPokerList[t][s].visible=!1},n.prototype.makeUp=function(){if(1!=this.isF5){for(var t=null,i=0;3>i;i++)for(var s in this.selectPokerList[i])if(0==this.selectPokerList[i][s].visible){if(t)return;t=this.selectPokerList[i];break}if(t){for(var n in t)if(0==t[n].visible)for(var o=0;13>o;o++)if(e.pokerList[o]){t[n].setPoker(o,e.pokerList[o]),t[n].visible=!0,delete e.pokerList[o];break}this.list.setListData()}}},n.prototype.mingpai_709=function(){this.mpIndex++,0==this.mpIndex&&(this.start_showFen.visible=!1);var e=[this.hongbolang,this.h1,this.h2,this.h3];if(this.mpIndex<12){var t=parseInt(this.mpIndex/4+""),s=["diyidao","dierdao","disandao"],n=this.mpIndex%4,o=["one","two","three","four"],r=o[n]+s[t];if(3==n)for(var a=1;4>=a;a++){var l=o[a-1]+s[t]+"integral";a==this.myData.index?this["showFen_"+(t+1)].setFen(i[l]):this.playerList[4][a].setFen(t+1,i[l])}return console.log(i[r+"index"]),this.playerList[4][i[r+"index"]].visible=!0,void this.playerList[4][i[r+"index"]].setDataByDao(t+1,i[r+"cards"],i[r+"type"],i[r+"index"])}if(this.mpIndex>=12&&this.mpIndex<=17){var h=this.mpIndex-12,d=i.sankanplayersindex;if(console.log(d),null==d[h]){if(i.hongbolang){this.playerList[4][i.hongbolangindex].runAction(3);var p=i.hongbolangindex-this.myData.index;p=0>p?p+4:p,e[p].visible=!0}return void(this.mpIndex=18)}var u=[-50,0,50,90,130,180,225,270,-50],c=d[h][1];c<d[h][0]&&(c+=4),c-=d[h][0];var g=d[h][0]-this.myData.index;return d[h][0]<this.myData.index&&(g+=4),c+=2*g,console.log(u[c-1]),this.playerList[4][d[h][1]].runAction(2),void this.playerList[4][d[h][0]].runAction(1,u[c-1])}if(18==this.mpIndex){i.hongbolang&&this.playerList[4][i.hongbolangindex].runAction(3);var p=i.hongbolangindex-this.myData.index;return p=0>p?p+4:p,void(e[p].visible=!0)}return 19==this.mpIndex?(this.hongbolang.visible=!1,console.log("this.mpIndex",19),this.h1.visible=!1,this.h2.visible=!1,void(this.h3.visible=!1)):21==this.mpIndex?(this.hongbolang.visible=!1,console.log(111111111111),this.h1.visible=!1,this.h2.visible=!1,this.h3.visible=!1,this.playerList[4][1].init(),this.playerList[4][2].init(),this.playerList[4][3].init(),this.playerList[4][4].init(),this.showFen_1.visible=!1,this.showFen_2.visible=!1,this.showFen_3.visible=!1,void this.showEndPanle()):void 0},n.prototype.mingpai=function(){this.mpIndex++;var t=[this.threeCut1,this.threeCut2,this.threeCut3],s=[this.h1,this.h2,this.h3];if(1==this.mpIndex&&(this.start_showFen.visible=!1),6==this.mpIndex&&(this.shouFen.setFenData(e.endFen[0].detailed),this.shouFen.visible=!0),2!=this.mpIndex&&4!=this.mpIndex&&6!=this.mpIndex){if(7!=this.mpIndex&&9!=this.mpIndex&&11!=this.mpIndex)return 13==this.mpIndex?void(1==i[0].hongbolang&&(this.hongbolang.visible=!0,this.hongbolang.scaleX=0,this.hongbolang.scaleX=0,egret.Tween.get(this.hongbolang).to({scaleX:1,scaleY:1},300,egret.Ease.backInOut))):15==this.mpIndex?(this.hongbolang.visible=!1,console.log(111111111111),this.h1.visible=!1,this.h2.visible=!1,this.h3.visible=!1,void this.showEndPanle()):void 0;var n=(this.mpIndex+1-6)/2,o=i[n];if(null==o)return;this.playerList[4][o.index].setFenData(e.endFen[n].detailed),console.log(this.mpIndex),console.log(o.index),o.hongbolang?s[o.index]&&(s[o.index].visible=!0):s[o.index]&&(s[o.index].visible=!1);for(var r in i[0].beisankan)if(i[0].beisankan[r]==o.index&&"0"!=i[0].beisankan[r]){t[n-1].show(),t[n-1].currentState="beisankan",console.log("beisankan ",this.mpIndex);break}for(var a in i[0].sankan)if(i[0].sankan[a]==o.index&&"0"!=i[0].sankan[a]){console.log("sankan ",this.mpIndex),t[n-1].show(),t[n-1].currentState="sankan";break}}else for(var r=1;4>r;r++){var o=i[r];this.playerList[4][o.index].visible=!0,this.playerList[4][o.index].setData(o.cards,this.mpIndex/2*5-2)}},n.prototype.showEndPanle=function(){var e=new EndPanel;e.setData("s_end"),util.showPanel(e,1,!0)},n.prototype.showFenUI=function(){console.log(e.endFen),this.shouFen.setFenData(e.endFen[0].detailed),this.shouFen.visible=!0;for(var t=1;4>t;t++)this.playerList[4][e.endFen[t].index].setFenData(e.endFen[t].detailed)},n.prototype.selectPokerListReset=function(t){e.selectPoker&&e.setSelectID(null,null);for(var i in this.selectPokerList[t]){var s=this.selectPokerList[t][i].poker;if(null!=s&&0!=s){var n=this.selectPokerList[t][i].index;this.selectPokerList[t][i].setPoker(null,null),e.pokerList[n]=s,console.log(e.pokerList),this.list.setListData(),this.selectPokerList[t][i].visible=!1}}this.isF5=!0,this.submit_btn.visible=!1},n.prototype.eventTouchBegin_submit_btn=function(){for(var e=[],t=0;3>t;t++)for(var i in this.selectPokerList[t])e.push(this.selectPokerList[t][i].poker);this.endPokerList=e,SocketHelper.send(15,{msg:[{card:e}]})},n.prototype.eventNet_66=function(e){console.log(e),"number"==typeof e?(this.playerList[4][e].setData(null),this.playerList[4][e].visible=!0,this.playerList[3][e].visible=!1):(this.selectGroup.visible=!1,this.showList.visible=!0,this.time.timer.stop(),this.showList.setData(this.endPokerList))},n.prototype.eventStartGame=function(t){e.isGame=!0,this.exitRoomGroup.visible=!1,this.ready_group.visible=!1,this.small_player.visible=!0,this.initSmallUI(),this.list.visible=!0,this.list1.visible=!0,this.list2.visible=!0,this.list3.visible=!0,e.pokerList=t.cards,this.timerPoker.reset(),this.timerPoker.start()},n.prototype.eventNetEnd_L=function(e){this.initSmallUI(),this.ready_group.visible=!0,this.small_player.visible=!1,console.log(e)},n.prototype.eventNetStat_L=function(t){e.isGame=!0,this.exitRoomGroup.visible=!1,console.log(t),1==this.selectGroup.visible||(this.initSmallUI(),e.pokerList=t[0].cards,this.ready_group.visible=!1,this.small_player.visible=!0,this.list.visible=!0,this.list.setListData(),this.selectGroup.visible=!0),this.list1.visible=!0,this.list2.visible=!0,this.list3.visible=!0,this.list1.setOutherData(),this.list2.setOutherData(),this.list3.setOutherData();for(var i=1;4>i;i++)1==t[i].thinking&&this.eventNet_66(t[i].index);console.log(this.list.visible)},n.prototype.eventNetShowWidth_L=function(e){this.initSmallUI(),this.ready_group.visible=!1,this.small_player.visible=!0,this.endPokerList=e[0].cards,this.eventNet_66(),this.list1.visible=!0,this.list2.visible=!0,this.list3.visible=!0,this.list1.setOutherData(),this.list2.setOutherData(),this.list3.setOutherData();for(var t=1;4>t;t++)1==e[t].thinking&&this.eventNet_66(e[t].index)},n.prototype.eventTimerPoker=function(){console.log(this.timerPoker.currentCount);var e=this.timerPoker.currentCount;return e=3*(e-1)+1,6==this.timerPoker.currentCount?(this.time.run(90),void(this.selectGroup.visible=!0)):(this.list.runActionPoker(e,"my"),this.list1.runActionPoker(e,"other"),this.list2.runActionPoker(e,"other"),void this.list3.runActionPoker(e,"other"))},n.prototype.eventSetPlayer=function(t){this.exitRoomGroup.visible=!0,e.isGame=!1,this.ready_group.visible=!0,this.small_player.visible=!1,this.setPlayer(t)},n.prototype.setPlayer=function(t){if(console.log(t[0]),t=t[0],null!=t.index)return console.log(t.index),this.playerList[2][t.index].lixian.visible=!1,void(this.playerList[1][t.index].lixian.visible=!1);if(this.myData=t[0],e.playerData=this.myData,this.roomID.text=this.myData.roomId,this.s_room_id.text="房间号:"+this.myData.roomId,this.myFen.text=this.myData.integral,this.juText.text=this.myData.nowNum+"/"+this.myData.allNum,this.roomNum.text=this.myData.allNum+"局",this.nameText.text=this.myData.nickName,1!=this.myData.nowNum&&(e.isGame=!0,this.exitRoomGroup.visible=!1),null!=this.defPlayerList){this.yaoqing_Group.visible=!1;for(var i=0;4>i;i++)console.log(i),this.defPlayerList[0][i].visible=!1,null!=t[i]&&2==t[i].status&&(this.defPlayerList[0][i].visible=!0),null==t[i]||0==t[i].index?(this.defPlayerList[1][i].setData(null),this.yaoqing_Group.visible=!0):(this.playerList[0][t[i].index]=this.defPlayerList[0][i],this.defPlayerList[1][i].setData(t[i]),this.playerList[1][t[i].index]=this.defPlayerList[1][i],this.defPlayerList[2][i].setData(t[i]),this.playerList[2][t[i].index]=this.defPlayerList[2][i],this.playerList[3][t[i].index]=this.defPlayerList[3][i],this.playerList[4][t[i].index]=this.defPlayerList[4][i],this.playerList[5][t[i].index]=this.defPlayerList[5][i],this.playerList[6][t[i].index]=this.defPlayerList[6][i])}},n.prototype.dealWithPoker=function(t){var i=this.getPostion(t.stageX,t.stageY);if(console.log(i),-1!=i.col){if(null==e.selectPoker)return;if(1==this.selectPokerList[i.row][i.col].visible){var s=this.selectPokerList[i.row][i.col].poker,n=this.selectPokerList[i.row][i.col].index;this.selectPokerList[i.row][i.col].poker==e.selectPoker.poker||s!=e.selectPoker.poker&&(2==e.selectPoker.itemType?(console.log(n),this.selectPokerList[i.row][i.col].setPoker(e.selectPoker.index,e.selectPoker.poker),delete e.pokerList[e.selectPoker.index],e.pokerList[n]=s,this.list.setListData()):(this.selectPokerList[i.row][i.col].setPoker(e.selectPoker.index,e.selectPoker.poker),e.selectPoker.setPoker(n,s)),e.setSelectID(null,null),this.selectPokerList[i.row][i.col].currentState="up")}else this.selectPokerList[i.row][i.col].visible=!0,this.selectPokerList[i.row][i.col].setPoker(e.selectPoker.index,e.selectPoker.poker),1==e.selectPoker.itemType&&(e.selectPoker.visible=!1,e.selectPoker.poker=null),delete e.pokerList[e.selectPoker.index],this.list.setListData(),e.setSelectID(null,null),this.selectPokerList[i.row][i.col].currentState="up"}var o=!0;for(var r in e.pokerList)if(void 0!=e.pokerList[r]){o=!1;break}o&&(this.submit_btn.visible=!0),this.makeUp()},n.prototype.eventPlayerEnter=function(e){},n.prototype.eventPlayerReady=function(e){console.log(e),2==e.status?this.playerList[0][e.index].visible=!0:this.playerList[0][e.index].visible=!1},n.prototype.eventDisband=function(){},n.prototype.eventTouchBegin_rule_btn=function(){egret.Tween.get(this.rule_info).to({x:800},500),egret.Tween.get(this.rule_btn).to({x:960},500)},n.prototype.eventTouchBegin_rule_info=function(){egret.Tween.get(this.rule_info).to({x:960},500),egret.Tween.get(this.rule_btn).to({x:900},500)},n.prototype.eventTouchBegin_ready_btn=function(){console.log("eventTouchBegin_ready_btn"),this.ready_btn.visible=!1,this.ready.visible=!0,this.yaoqing_btn.visible=!1,this.ready_dlg.visible=!0,this.readyc_btn.visible=!0,SocketHelper.send(10)},n.prototype.eventTouchBegin_msg_btn=function(){var e=new MsgPanel;util.showPanel(e,1,!0)},n.prototype.eventTouchBegin_exitRoom_btn=function(){if(console.log("eventTouchBegin_ready_btn"),1==this.myData.owner){var e=new Disband(6);util.showPanel(e,1,!0)}else SocketHelper.send(9)},n.prototype.eventTouchBegin_readyc_btn=function(){this.ready_btn.visible=!0,this.ready.visible=!1,this.yaoqing_btn.visible=!0,this.ready_dlg.visible=!1,this.readyc_btn.visible=!1,SocketHelper.send(11)},n.prototype.reset=function(){},n.prototype.eventTouchMove_movePoker=function(t){e.movePoker.x=t.stageX-e.movePoker.width/2,e.movePoker.y=t.stageY-e.movePoker.height/2},n.prototype.eventTouchEnd_movePoker=function(t){e.movePoker.visible=!1,this.dealWithPoker(t)},n.prototype.initSelectPokerList=function(){for(var i in e.postionYList)for(var s in t)if("0"!=i||"0"!=s&&"4"!=s){var n=new Poker_Item;n.x=t[s],n.y=e.postionYList[i]-56,n.visible=!1,this.selectGroup.addChild(n),this.selectPokerList[Number(i)].push(n)}},n.prototype.eventTouchEnd_select_bg=function(e){this.dealWithPoker(e)},n.prototype.getPostion=function(i,s){for(var n=0;3>n;n++)if(s>=e.postionYList[n]&&s<=e.postionYList[n]+109)for(var o=0;5>o;o++)if(i>t[o]&&i<t[o]+76)return 0==n?0==o||4==o?{col:-1,row:-1}:{col:o-1,row:n}:{col:o,row:n};return{col:-1,row:-1}},n}(eui.Component);e.MainUI=s,__reflect(s.prototype,"GameModule.MainUI",["eui.UIComponent","egret.DisplayObject"])}(GameModule||(GameModule={}));var MsgItem=function(e){function t(){var t=e.call(this)||this;return t.type="",t.id=0,t}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),console.log(1111),this.addEventListener(egret.TouchEvent.TOUCH_END,function(){panelMg.remove(),SocketHelper.send(80,{msg:[{type:t.type,msgId:t.id}]})},this)},t.prototype.dataChanged=function(){this.type=this.data.type,this.id=this.data.id},t}(eui.ItemRenderer);__reflect(MsgItem.prototype,"MsgItem",["eui.UIComponent","egret.DisplayObject"]);var MsgPanel=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),this.initMsgExpression();var i=RES.getRes("msg_gif_json"),s=RES.getRes("msg_gif_png");this.mcFactory=new egret.MovieClipDataFactory(i,s),this.kongmingMC=new egret.MovieClip,this.kongmingMC.y=0,this.arrayCollection=new eui.ArrayCollection(this.getData()),this.msg_list.dataProvider=this.arrayCollection,this.msg_list.itemRenderer=MsgItem,this.array1Collection=new eui.ArrayCollection(this.getData1()),this.textMsg_list.dataProvider=this.array1Collection,this.textMsg_list.itemRenderer=MsgTextItem,this.addChild(this.kongmingMC),this.msg_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouch_msg_btn,this),this.text_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouch_text_btn,this),this.cls_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){util.closePanel(t)},this)},t.prototype.eventTouch_msg_btn=function(){this.text_group.visible=!1,this.msg_group.visible=!0},t.prototype.eventTouch_text_btn=function(){console.log("111111111111"),this.text_group.visible=!0,this.msg_group.visible=!1},t.prototype.eventTouchBegin_msg_group=function(e){},t.prototype.getData=function(){for(var e=[],t=0;27>t;t++)e.push({img:"expression"+(t+1)+"_png",type:"expression",id:t+1});for(var i=1;11>=i;i++)e.push({img:"expression-Magic"+i+"_png",type:"magic",id:i});return e},t.prototype.getData1=function(){for(var e=[],t=["别吵了，专心玩游戏吧！","不胜利，毋宁死！","不要走，决战到天亮！","和你合作真是太愉快了~","快点啊，等得我花儿都谢了！","你这么牛X，你家人知道吗？","噢，糟了！","土豪，我们做朋友吧~","怎么又断线了，网络也忒差了！"],i=0;i<t.length;i++)e.push({label:t[i],id:i});return e},t.prototype.initMsgExpression=function(){},t}(eui.Panel);__reflect(MsgPanel.prototype,"MsgPanel",["eui.UIComponent","egret.DisplayObject"]);var MsgTextItem=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),this.addEventListener(egret.TouchEvent.TOUCH_END,function(){panelMg.remove(),SocketHelper.send(80,{msg:[{type:"text",msgId:t.id}]})},this)},t.prototype.dataChanged=function(){this.id=this.data.id},t}(eui.ItemRenderer);__reflect(MsgTextItem.prototype,"MsgTextItem",["eui.UIComponent","egret.DisplayObject"]);var Disband=function(e){function t(t,i){var s=e.call(this)||this;return s.type=0,s.notRemove=!0,s.type=t,console.log(t),s.textName=i,s}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),console.log(46),this.true_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_true_btn,this),this.false_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_false_btn,this),this.ok_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.eventTouchBegin_ok_btn,this),this.cls_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){5==t.type?(SocketHelper.removeAllSocketEvent(),GameModule.exitRoom()):util.closePanel(t)},this),this.addEventListener(egret.Event.REMOVED,this.eventRemoved,this),this.tx=new egret.TextField,this.addChild(this.tx),this.tx.x=76,this.tx.y=133.5,this.tx.width=312,this.setType(this.type)},t.prototype.eventRemoved=function(){GameModule.disband=null},t.prototype.eventTouchBegin_true_btn=function(){3==this.type&&SocketHelper.send(32),6==this.type&&(console.log(38),SocketHelper.send(38)),1==this.type&&(SocketHelper.removeAllSocketEvent(),GameModule.exitRoom()),5==this.type?(SocketHelper.removeAllSocketEvent(),GameModule.exitRoom()):util.closePanel(this),this.type=0},t.prototype.eventTouchBegin_ok_btn=function(){2==this.type&&SocketHelper.send(31),6==this.type&&(console.log(38),SocketHelper.send(38)),1==this.type&&(SocketHelper.removeAllSocketEvent(),GameModule.exitRoom()),5==this.type&&(SocketHelper.removeAllSocketEvent(),GameModule.exitRoom()),this.type=0,util.closePanel(this)
},t.prototype.eventTouchBegin_false_btn=function(){3==this.type&&SocketHelper.send(49),util.closePanel(this)},t.prototype.setType=function(e){switch(this.cls_btn.visible=!0,e){case 1:this.group2_text.text="您已解散房间,棒棒糖已退还账户!",this.group2.visible=!0,this.group1.visible=!1,this.cls_btn.visible=!1;break;case 2:this.group2_text.text="解散房间需征得其他玩家同意,你确定要解散房间?",this.group2.visible=!0,this.group1.visible=!1;break;case 3:this.tx.textFlow=[{text:"玩家",style:{textColor:8799252,size:20,bold:!0}},{text:this.textName,style:{textColor:16711680,size:20,bold:!0}},{text:"正在申请解散房间,您是否同意解散?",style:{textColor:8799252,size:20,bold:!0}}],this.tx.visible=!0,this.group1_text.visible=!1,this.group2.visible=!1,this.group1.visible=!0;break;case 4:this.cls_btn.visible=!1,this.group2_text.text="有玩家拒绝解散房间,请您继续游戏.",this.group2.visible=!0,this.group1.visible=!1;break;case 5:this.group2_text.text="房间已解散,即将返回游戏大厅.",this.group2.visible=!0,this.group1.visible=!1;break;case 6:this.group1_text.text="你现在尚未开始游戏,你现在解散不会扣除房卡,确定要解散房间吗?",this.group1_text.visible=!0,this.tx.visible=!1,this.group2.visible=!1,this.group1.visible=!0}},t}(eui.Panel);__reflect(Disband.prototype,"Disband",["eui.UIComponent","egret.DisplayObject"]);var Poker_Item=function(e){function t(){var t=e.call(this)||this;return t.itemType=1,t.diffX=0,t.diffY=0,t.index=0,t.poker=0,t.isTouchBegin=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.dataChanged=function(){this.index=this.data.id,this.itemType=this.data.itemType,this.setPoker(this.index,this.data.poker),this.currentState="up"},t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.eventTouchEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.eventTouchMove,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(e){t.isTouchBegin=!0,GameModule.touchStatPostion={x:e.stageX,y:e.stageY}},this)},t.prototype.setPoker=function(e,t){this.poker=t,this.index=e,this.pokerImg.source=RES.getRes("b_"+t+"_png")},t.prototype.unSelected=function(){1==this.itemType&&(this.currentState="up")},t.prototype.eventTouchEnd=function(e){return console.log("end"),0==this.isTouchBegin?void(this.isTouchBegin=!1):(Sound.playPoker(),this.isTouchBegin=!1,void("touch"==this.currentState||"disabled"==this.currentState?2==this.itemType?(GameModule.setSelectID(null,null),GameModule.selectGroup.removePoker(this),this.currentState="up"):1==this.itemType&&(GameModule.pokerList[this.index]=this.poker,this.parent.parent.list.setListData(),this.setPoker(null,null),GameModule.setSelectID(null,null),this.visible=!1,this.currentState="up"):2==this.itemType?(GameModule.setSelectID(this.index,this),GameModule.selectGroup.pushPoker(this),this.currentState="touch"):1==this.itemType&&(GameModule.setSelectID(this.index,this),this.currentState="disabled")))},t.prototype.eventTouchMove=function(e){1==this.itemType?(GameModule.setSelectID(this.index,this),GameModule.movePoker.visible=!0,GameModule.movePoker.source=RES.getRes("b_"+this.poker+"_png"),GameModule.movePoker.x=e.stageX-GameModule.movePoker.width/2,GameModule.movePoker.y=e.stageY-GameModule.movePoker.height/2):(Math.abs(GameModule.touchStatPostion.x-e.stageX)>5&&"touch"!=this.currentState&&(this.currentState="touch",this.isTouchBegin=!1,GameModule.selectGroup.pushPoker(this)),Math.abs(GameModule.touchStatPostion.y-e.stageY)>10&&(this.isTouchBegin=!1,GameModule.selectGroup.getLen()<=1?(console.log("eventTouchMove"),GameModule.setSelectID(this.index,this),GameModule.movePoker.visible=!0,GameModule.movePoker.source=RES.getRes("b_"+this.poker+"_png"),GameModule.movePoker.x=e.stageX-GameModule.movePoker.width/2,GameModule.movePoker.y=e.stageY-GameModule.movePoker.height/2):GameModule.selectGroup.statMove(e.stageX,e.stageY)))},t}(eui.ItemRenderer);__reflect(Poker_Item.prototype,"Poker_Item",["eui.UIComponent","egret.DisplayObject"]);var GameModule;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.selectID=null,e}return __extends(i,t),i.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),e.setSelectID=this.setSelectID.bind(this),this.arrayCollection=new eui.ArrayCollection([]),this.list.dataProvider=this.arrayCollection,this.list.itemRenderer=Poker_Item,console.log("childrenCreated")},i.prototype.setSelectID=function(t,i){null!=e.selectPoker&&this.selectID!=t&&(console.log("id"),e.selectPoker.unSelected()),e.selectPoker=i,this.selectID=t},i.prototype.setData_bg=function(){this.list.touchChildren=!1;for(var t=[],i=0;13>i;i++)e.pokerList[i]&&t.push({id:i,itemType:2,poker:"bg"});return t},i.prototype.runActionPoker=function(t,i){this.xiang1.visible=!1,this.xiang2.visible=!1,this.xiang3.visible=!1,this.list.touchChildren=!1;for(var s=[],n=0;t>n;n++)"my"==i?(s.push({id:n,itemType:2,poker:e.pokerList[n]}),12==n&&(console.log("111111111111111111"),this.list.touchChildren=!0)):(12==n&&(90==this.rotation?this.xiang2.visible=!0:-90==this.rotation?this.xiang1.visible=!0:this.xiang3.visible=!0),s.push({id:n,itemType:2,poker:"bg"}));"my"==i&&(this.x=480-t/2*46-15),this.arrayCollection.replaceAll(s)},i.prototype.setOutherData=function(){console.log("setOutherData"),this.list.touchChildren=!1,90==this.rotation?this.xiang2.visible=!0:-90==this.rotation?this.xiang1.visible=!0:this.xiang3.visible=!0,this.arrayCollection.replaceAll(this.setData_bg())},i.prototype.setListData=function(){this.list.touchChildren=!0,0!=this.getDate().length?e.mainUI.submit_btn.visible=!1:e.mainUI.submit_btn.visible=!0,this.arrayCollection.replaceAll(this.getDate()),this.arrayCollection.refresh(),e.selectGroup.removeAll(),this.setListPostion()},i.prototype.getDate=function(){for(var t=[],i=0;13>i;i++)e.pokerList[i]&&t.push({id:i,itemType:2,poker:e.pokerList[i]});return t},i.prototype.setListPostion=function(){var e=this.getDate().length;console.log(e),this.x=480-e/2*46-15},i}(eui.Component);e.Poker_list=t,__reflect(t.prototype,"GameModule.Poker_list",["eui.UIComponent","egret.DisplayObject"])}(GameModule||(GameModule={}));var SelectGroup=function(e){function t(){var t=e.call(this)||this;return t.pokerList=[],t.sX=0,t.sY=0,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.height=106,this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.eventTouchMove,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEventEnd,this)},t.prototype.eventTouchMove=function(e){this.x=e.stageX-this.width/2,this.y=e.stageY-this.height/2},t.prototype.touchEventEnd=function(e){var t=this;console.log(e);for(var i=null,s=0;3>s;s++)if(e.stageY>=GameModule.postionYList[s]&&e.stageY<=GameModule.postionYList[s]+109){i=s;break}if(console.log("index",i),null!=i){var n=0;for(var o in GameModule.mainUI.selectPokerList[i])console.log(n,o),0==GameModule.mainUI.selectPokerList[i][o].visible&&n++;if(n>=this.pokerList.length){for(var r in GameModule.mainUI.selectPokerList[i])if(0==GameModule.mainUI.selectPokerList[i][r].visible){var a=this.pokerList.shift();if(null==a)break;delete GameModule.pokerList[a.index],GameModule.mainUI.selectPokerList[i][r].setPoker(a.index,a.poker),GameModule.mainUI.selectPokerList[i][r].visible=!0}GameModule.mainUI.list.setListData(),this.removeAll()}else egret.Tween.get(this).to({x:this.sX,y:this.sY},300).call(function(){t.visible=!1})}else egret.Tween.get(this).to({x:this.sX,y:this.sY,alpha:0},300).call(function(){t.visible=!1});var l=!0;for(var h in GameModule.pokerList)if(void 0!=GameModule.pokerList[h]){l=!1;break}l?GameModule.mainUI.submit_btn.visible=!0:GameModule.mainUI.submit_btn.visible=!1,GameModule.mainUI.makeUp()},t.prototype.removeAll=function(){GameModule.setSelectID(null,null),this.pokerList=[],this.visible=!1,this.sX=0,this.sY=0},t.prototype.pushPoker=function(e){for(var t in this.pokerList)if(this.pokerList[t].poker==e.poker)return;Sound.playPoker(),this.pokerList.length>=5&&(this.pokerList.shift().currentState="up"),this.pokerList.push(e)},t.prototype.getLen=function(){return 1==this.pokerList.length&&(this.pokerList=[]),this.pokerList.length},t.prototype.removePoker=function(e){var t=!1;for(var i in this.pokerList)t?this.pokerList[Number(i)-1]=this.pokerList[i]:this.pokerList[i].poker==e.poker&&(t=!0,this.pokerList[i]=null);t&&this.pokerList.length--},t.prototype.statMove=function(e,t){this.removeChildren(),this.sort();for(var i in this.pokerList){var s=new eui.Image;s.source=RES.getRes("b_"+this.pokerList[i].poker+"_png"),s.width=76,s.height=106,s.alpha=.6,s.x=85*Number(i),this.addChild(s)}this.width=85*this.pokerList.length-9,this.x=e-this.width/2,this.y=t-this.height/2,this.sX=this.x,this.sY=this.y,this.alpha=0,this.visible=!0,egret.Tween.get(this).to({alpha:1},200)},t.prototype.sort=function(){for(var e,t,i=0,s=this.pokerList.length;s>i;i++)for(e=0;s>e;e++)this.pokerList[i].poker>this.pokerList[e].poker&&(t=this.pokerList[e],this.pokerList[e]=this.pokerList[i],this.pokerList[i]=t)},t}(eui.Group);__reflect(SelectGroup.prototype,"SelectGroup");var SetPanel=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),0==GameModule.isGame?(this.jiesan_btn.visible=!1,GameModule.playerData.owner?this.tuichu_btn.visible=!1:this.tuichu_btn.visible=!1):(this.jiesan_btn.visible=!0,this.tuichu_btn.visible=!1),Sound.soundChannelBg&&(this.yue.value=100*Sound.soundChannelBg.volume),this.xiao.value=100*Sound.xiao,this.xiao.addEventListener(eui.UIEvent.CHANGE,this.changeXiao,this),this.yue.addEventListener(eui.UIEvent.CHANGE,this.changeYue,this),this.cls_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){util.closePanel(t)},this),this.jiesan_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){util.closePanel(t);var e;if(1==GameModule.playerData.owner)e=GameModule.isGame?2:6;else{if(!GameModule.isGame)return void(e=0);e=2}GameModule.getDisband(e)},this),this.tuichu_btn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){SocketHelper.removeAllSocketEvent(),GameModule.exitRoom()},this)},t.prototype.changeXiao=function(){Sound.setXiao(this.xiao.value)},t.prototype.changeYue=function(){Sound.setYue(this.yue.value)},t}(eui.Panel);__reflect(SetPanel.prototype,"SetPanel",["eui.UIComponent","egret.DisplayObject"]);var ShowFen=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.setFenData=function(e){"my"==this.currentState?(this.shang.text="上家 :"+this.getFenText(e[0]+e[1]+e[2])+"("+this.getFenText(e[0])+","+this.getFenText(e[1])+","+this.getFenText(e[2])+")",this.dui.text="对家 :"+this.getFenText(e[3]+e[4]+e[5])+"("+this.getFenText(e[3])+","+this.getFenText(e[4])+","+this.getFenText(e[5])+")",this.xia.text="下家 :"+this.getFenText(e[6]+e[7]+e[8])+"("+this.getFenText(e[6])+","+this.getFenText(e[7])+","+this.getFenText(e[8])+")",this.zong.text=this.getFenText(e[0]+e[1]+e[2]+e[3]+e[4]+e[5]+e[6]+e[7]+e[8])):(this.shang.text="上家 :"+this.getFenText(e[0]+e[1]+e[2]),this.dui.text="对家 :"+this.getFenText(e[3]+e[4]+e[5]),this.xia.text="下家 :"+this.getFenText(e[6]+e[7]+e[8]),this.zong.text=this.getFenText(e[0]+e[1]+e[2]+e[3]+e[4]+e[5]+e[6]+e[7]+e[8]))},t.prototype.getFenText=function(e){var t;return 0>e&&e>-10?t=e+" ":10>e&&e>=0?t="+"+e+" ":-10>=e?t=e+"":e>=10&&(t="+"+e),""+t},t}(eui.Component);__reflect(ShowFen.prototype,"ShowFen",["eui.UIComponent","egret.DisplayObject"]);var showFenItem=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.setFen=function(e){this.visible=!0;var t=e;e>=0?(t="+"+e,this.fen.font=RES.getRes("funAdd_fnt")):(t=e.toString(),this.fen.font=RES.getRes("funSub_fnt")),this.fen.text=t},t}(eui.Component);__reflect(showFenItem.prototype,"showFenItem",["eui.UIComponent","egret.DisplayObject"]);var ShowPokerList=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i),this.list=[this.before_1,this.before_2,this.before_3,this.mid_1,this.mid_2,this.mid_3,this.mid_4,this.mid_5,this.after_1,this.after_2,this.after_3,this.after_4,this.after_5]},t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),this.init(),this.kongmingMC=new egret.MovieClip,this.kongmingMC.y=0,this.kongmingMC.addEventListener(egret.Event.COMPLETE,function(){t.gif_group.visible=!1},this),this.gif_group.addChild(this.kongmingMC)},t.prototype.setData=function(e,t){if(this.shouGroup.visible=!1,this.data=e,console.log(e),t||(t=13),console.log("allNum   _________________   ",t),null!=e)for(var i=0;t>i;i++)this.list[i].source=RES.getRes("b_"+e[i]+"_png");else for(var i=0;13>i;i++)this.list[i].source=RES.getRes("b_bg_png")},t.prototype.setDataByDao=function(e,t,i,s){if(console.log(t,i),Sound.playPokerType(i,GameModule.sexList[s]),1==e){for(var n=0;3>n;n++)this.list[n].source=RES.getRes("b_"+t[n]+"_png");this.pokerType_1.visible=!0,this.pokerType_1.source=RES.getRes("pokerType_"+i+"_png")}else if(2==e){for(var n=3;8>n;n++)this.list[n].source=RES.getRes("b_"+t[n-3]+"_png");this.pokerType_2.visible=!0,this.pokerType_2.source=RES.getRes("pokerType_"+i+"_png")}else{for(var n=8;13>n;n++)this.list[n].source=RES.getRes("b_"+t[n-8]+"_png");this.pokerType_3.visible=!0,this.pokerType_3.source=RES.getRes("pokerType_"+i+"_png")}1==this.scaleX&&(this.winNum_1.visible=!1,this.winNum_2.visible=!1,this.winNum_3.visible=!1)},t.prototype.setFen=function(e,t){var i="";this["winNum_"+e].visible=!0,t>=0?(i="+"+t,this["winNum_"+e].font=RES.getRes("funAdd_fnt")):(i=t.toString(),this["winNum_"+e].font=RES.getRes("funSub_fnt")),this["winNum_"+e].text=i,1==this.scaleX&&(this.winNum_1.visible=!1,this.winNum_2.visible=!1,this.winNum_3.visible=!1)},t.prototype.init=function(){this.pokerType_1.visible=!1,this.pokerType_2.visible=!1,this.pokerType_3.visible=!1,this.winNum_1.visible=!1,this.winNum_2.visible=!1,this.winNum_3.visible=!1,this.gif_group.visible=!1},t.prototype.runAction=function(e,t){if(console.log(111111),this.gif_group.visible=!0,this.kongmingMC.rotation=0,1==e){this.kongmingMC.movieClipData=GameModule.getWinGif("gun"),this.kongmingMC.rotation=t,this.kongmingMC.x=0,this.kongmingMC.y=0,this.kongmingMC.gotoAndPlay(0,1);var i=new egret.Timer(300,2);Sound.playByName("Gun_ing"),i.start(),i.addEventListener(egret.TimerEvent.TIMER,function(){Sound.playByName("Gun_ing")},this)}else 2==e?(this.kongmingMC.movieClipData=GameModule.getWinGif("dan"),this.kongmingMC.x=-50,this.kongmingMC.y=-40,this.kongmingMC.gotoAndPlay(0,1)):(this.kongmingMC.movieClipData=GameModule.getWinGif("Bomb"),this.kongmingMC.x=-45,this.kongmingMC.y=-300,this.kongmingMC.gotoAndPlay(0,1),Sound.playByName("BombAct"))},t.prototype.setFenData=function(e){this.shouGroup.visible=!0,this.fen.setFenData(e)},t}(eui.Component);__reflect(ShowPokerList.prototype,"ShowPokerList",["eui.UIComponent","egret.DisplayObject"]);var SocketHelper;!function(e){function t(){Sound.stopBgMusic(),e.socket.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.onmessage,this),panelMg.panelChild&&panelMg.panelChild.removeChildren(),panelMg.pool=[],panelMg.darkSprite&&(panelMg.darkSprite=null),GameModule.jiesanUI=null,GameModule.disband=null,h.reset(),h.stop()}function i(t){t&&(e.socket=t,Sound.playBg(),GameModule.mainUI&&GameModule.mainUI.initUI(),e.timeCount=0,h.start(),e.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onmessage,this))}function s(t){var i;"string"==typeof t?(i=JSON.parse(t),GameModule.isGame=!1,GameModule.mainUI.exitRoomGroup&&(GameModule.mainUI.exitRoomGroup.visible=!0)):i=JSON.parse(e.socket.readUTF()),console.log("res.msg",i.msg),0==l?a.push(i):o(i)}function n(){l=!0;for(var e in a){var t=a[e];console.log(" msgGo",t.cmd),o(t)}a=[]}function o(t){switch(console.log("switch res ",t.cmd),console.log(t.msg),t.cmd){case 1:break;case 2:"?1"==window.location.search?r(3,{msg:[{level:"8"}]}):r(6,{msg:[{roomId:"12345"}]});break;case 3:break;case 4:GameModule.msgData=[t.msg],MyEvent.dispatch("eventSetPlayer",[t.msg]);break;case 5:break;case 6:GameModule.msgData=t.msg,MyEvent.dispatch("setPlayer",t.msg);break;case 7:GameModule.msgData=t.msg,MyEvent.dispatch("eventSetPlayer",t.msg);break;case 10:MyEvent.dispatch("eventPlayerReady",t.msg[0]);break;case 11:MyEvent.dispatch("eventPlayerReady",t.msg[0]);break;case 12:MyEvent.dispatch("eventStartGame",t.msg[0]);break;case 33:GameModule.getDisband(5);break;case 46:GameModule.jiesanUI&&(util.closePanel(GameModule.jiesanUI),GameModule.jiesanUI=null),GameModule.getDisband(1);break;case 45:GameModule.getDisband(5);break;case 51:GameModule.jiesanUI&&(util.closePanel(GameModule.jiesanUI),GameModule.jiesanUI=null),GameModule.getDisband(4);break;case 31:if(t.msg[0].length>3)if(GameModule.jiesanUI)GameModule.jiesanUI.setData(t.msg[0]);else{var i=new JieSanPanel(t.msg[0]);util.showPanel(i)}else GameModule.getDisband(3,t.msg[0].nickName);break;case 32:if(GameModule.jiesanUI)GameModule.jiesanUI.setData(t.msg[0]);else{var i=new JieSanPanel(t.msg[0]);util.showPanel(i)}break;case 49:if(t.msg[0].length>3)if(GameModule.jiesanUI)GameModule.jiesanUI.setData(t.msg[0]);else{var i=new JieSanPanel(t.msg[0]);util.showPanel(i)}else GameModule.jiesanUI&&(util.closePanel(GameModule.jiesanUI),GameModule.jiesanUI=null),GameModule.getDisband(4);break;case 48:MyEvent.dispatch("eventNet_daolun");break;case 66:MyEvent.dispatch("eventNet_66");break;case 65:MyEvent.dispatch("eventNet_66",t.msg[0].index);break;case 50:MyEvent.dispatch("eventNet_mingpai",t.msg[0]);break;case 60:GameModule.endFen=t.msg[0];break;case 28:GameModule.endShowData=t.msg[0];break;case 61:GameModule.endShowData=t.msg[0];break;case 40:GameModule.allEndData=t.msg[0];break;case 80:MyEvent.dispatch("eventNet_msg",t.msg[0]);break;case 34:MyEvent.dispatch("eventNet_lixian",t.msg[0].index);break;case 86:GameModule.isGame=!0,MyEvent.dispatch("setPlayer",t.msg),MyEvent.dispatch("eventNetStat_L",t.msg[0]);break;case 87:GameModule.isGame=!0,MyEvent.dispatch("setPlayer",t.msg),MyEvent.dispatch("eventNetShowWidth_L",t.msg[0]);break;case 88:GameModule.isGame=!0,MyEvent.dispatch("setPlayer",t.msg);break;case 89:e.removeAllSocketEvent(),GameModule.exitRoom();break;case 112:e.timeCount=0}}function r(t,i){null==i&&(i={}),i.cmd=t,i.game=2,console.log(JSON.stringify(i)),e.socket.writeUTF(JSON.stringify(i)),e.socket.flush()}e.socket=null;var a=[],l=!1,h=new egret.Timer(3e3,0);e.timeCount=0,e.removeAllSocketEvent=t,h.addEventListener(egret.TimerEvent.TIMER,function(){e.timeCount++,e.timeCount>=3?GameModule.mainUI.lixian.visible=!0:e.send(112)},e),e.initSocket=i,e.onmessage=s,e.msgGo=n,e.send=r}(SocketHelper||(SocketHelper={}));var Sound;!function(e){function t(){}function i(t){e.xiao=t/100}function s(){}function n(t){e.yue=t/100,console.log(e.yue),e.soundChannelBg&&(e.soundChannelBg.volume=e.yue)}function o(t,i){console.log("boy_"+t+"_mp3");var s="boy";2==i&&(s="girl"),u=RES.getRes(s+"_"+t+"_mp3"),m=u.play(0,1),m.volume=e.xiao}function r(){c=RES.getRes("time_mp3"),y=c.play(0,1),y.volume=e.xiao}function a(){g=RES.getRes("pokerSound_mp3"),v=g.play(0,1),v.volume=e.xiao}function l(t){_=RES.getRes("start_showFen_"+t+"_13dao_mp3"),_&&(b=_.play(0,1),b.volume=e.xiao)}function h(t,i){_=RES.getRes("pokerType_"+i+"_"+t+"_mp3"),_&&(b=_.play(0,1),b.volume=e.xiao)}function d(t){_=RES.getRes(t+"_13dao_mp3"),_&&(b=_.play(0,1),b.volume=e.xiao)}function p(){e.soundChannelBg||console.log("err playBg")}var u,c,g,v,m,y,_,b;e.xiao=1,e.yue=1,e.load=t,e.setXiao=i,e.stopBgMusic=s,e.setYue=n,e.playMsg=o,e.playTime=r,e.playPoker=a,e.playStartShowFen=l,e.playPokerType=h,e.playByName=d,e.playBg=p}(Sound||(Sound={}));var Talk=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.kongmingMC=new egret.MovieClip,this.kongmingMC.y=-5,this.gif_group.addChild(this.kongmingMC)},t.prototype.show=function(e){if(this.visible=!0,console.log(e),this.show_group.alpha=0,egret.Tween.get(this.show_group).to({alpha:1},300).wait(2e3).to({alpha:0},200),"expression"==e.type)this.msg_text.visible=!1,this.gif_group.visible=!0,this.kongmingMC.movieClipData=GameModule.getGif(e.msgId,1),this.kongmingMC.gotoAndPlay(0,-1);else if("magic"==e.type)this.msg_text.visible=!1,this.gif_group.visible=!0,this.kongmingMC.movieClipData=GameModule.getGif(e.msgId,2),this.kongmingMC.gotoAndPlay(0,-1);else if("text"==e.type){var t=["别吵了，专心玩游戏吧！","不胜利，毋宁死！","不要走，决战到天亮！","和你合作真是太愉快了~","快点啊，等得我花儿都谢了！","你这么牛X，你家人知道吗？","噢，糟了！","土豪，我们做朋友吧~","怎么又断线了，网络也忒差了！"];Sound.playMsg(e.msgId,e.sex),this.msg_text.visible=!0,this.gif_group.visible=!1,this.msg_text.text=t[e.msgId]}},t}(eui.Component);__reflect(Talk.prototype,"Talk",["eui.UIComponent","egret.DisplayObject"]);var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,i,s){function n(e){t.call(s,e)}function o(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),i.call(s))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var ThreeCut=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.show=function(){this.visible=!0,this.alpha=0,egret.Tween.get(this).to({alpha:1},300)},t}(eui.Component);__reflect(ThreeCut.prototype,"ThreeCut",["eui.UIComponent","egret.DisplayObject"]);var Time=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),this.timer=new egret.Timer(1e3,-1),this.timer.addEventListener(egret.TimerEvent.TIMER,this.runCallFunc,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,function(){t.timer.stop()},this)},t.prototype.run=function(e){this.timer.reset(),this.timer.start(),this.time.text=e.toString(),this.timeNum=e},t.prototype.runCallFunc=function(){console.log(1),this.timeNum--,this.time.text=this.timeNum.toString(),Sound.playTime(),this.timeNum<=0&&this.timer.stop()},t}(eui.Component);__reflect(Time.prototype,"Time",["eui.UIComponent","egret.DisplayObject"]);var util;!function(e){function t(e,t,i,s,n){if(void 0===t&&(t=0),void 0===i&&(i=!1),void 0===s&&(s=-1),void 0===n&&(n=-1),!panelMg.panelChild.contains(e)){var o={winSize:{width:960,height:640}};panelMg.addChild(e,i);var r=!1,a=e.width,l=e.height;e.scaleX=1,e.scaleY=1,e.x=0,e.y=0,e.alpha=1,-1==s?(e.x=o.winSize.width/2-a/2,e.y=o.winSize.height/2-l/2):(r=!0,e.x=s,e.y=n);var h=o.winSize.width/2-a/2,d=o.winSize.height/2-l/2;switch(t){case 0:break;case 1:e.alpha=0,e.scaleX=0,e.scaleY=0,e.x=e.x+a/4,e.y=e.y+l/4,egret.Tween.get(e).to({alpha:1,scaleX:1,scaleY:1,x:e.x-a/4,y:e.y-l/4},500,egret.Ease.backOut);break;case 2:e.alpha=0,e.scaleX=0,e.scaleY=0,e.x=e.x+a/4,e.y=e.y+l/4,egret.Tween.get(e).to({alpha:1,scaleX:1,scaleY:1,x:e.x-a/4,y:e.y-l/4},500,egret.Ease.circIn);break;case 3:r?(e.x=-a,egret.Tween.get(e).to({x:s},450,egret.Ease.cubicOut)):(e.x=-a,egret.Tween.get(e).to({x:h},450,egret.Ease.cubicOut));break;case 4:r?(e.x=o.winSize.width,egret.Tween.get(e).to({x:s},450,egret.Ease.cubicOut)):(e.x=o.winSize.width,egret.Tween.get(e).to({x:h},450,egret.Ease.cubicOut));break;case 5:r?(e.y=-l,egret.Tween.get(e).to({y:n},450,egret.Ease.cubicOut)):(e.y=-l,egret.Tween.get(e).to({y:d},450,egret.Ease.cubicOut));break;case 6:r?(e.y=o.winSize.height,egret.Tween.get(e).to({y:n},450,egret.Ease.cubicOut)):(e.y=o.winSize.height,egret.Tween.get(e).to({y:d},450,egret.Ease.cubicOut))}}}function i(e,t){void 0===t&&(t=0);var i=500;switch(0==t&&(i=0),t){case 0:break;case 1:i=300,egret.Tween.get(e).to({alpha:0,scaleX:0,scaleY:0,x:e.x+e.width/2,y:e.y+e.height/2},300);break;case 2:egret.Tween.get(e).to({alpha:0},500,egret.Ease.cubicOut);break;case 3:egret.Tween.get(e).to({x:750},500,egret.Ease.cubicOut);break;case 4:egret.Tween.get(e).to({x:-e.width},500,egret.Ease.cubicOut);break;case 5:egret.Tween.get(e).to({y:1334},500,egret.Ease.cubicOut);break;case 6:egret.Tween.get(e).to({y:-e.height},500,egret.Ease.cubicOut)}egret.setTimeout(function(){panelMg.panelChild.contains(e)&&panelMg.remove(e)},this,i)}e.showPanel=t,e.closePanel=i}(util||(util={}));var panelMg;!function(e){function t(){e.scene.contains(e.panelChild)||(e.scene.addChild(e.panelChild),e.scene.panelChild=e.panelChild),e.darkSprite=new egret.Sprite,e.darkSprite.graphics.clear(),e.darkSprite.graphics.beginFill(0,.3),e.darkSprite.graphics.drawRect(0,0,e.scene.width,e.scene.height),e.darkSprite.graphics.endFill(),e.darkSprite.width=e.scene.width,e.darkSprite.height=e.scene.height,e.darkSprite.touchEnabled=!0,e.darkSprite.visible=!1,e.panelChild.addChild(e.darkSprite),e.darkSprite.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.pool[e.pool.length-1].notRemove||s()},this)}function i(i,s){void 0===s&&(s=!1),e.panelChild.panel=i,null==e.darkSprite&&t(),e.scene.setChildIndex(e.panelChild,-1),e.pool.push(i),e.panelChild.addChild(i),s&&(e.darkSprite.visible=!0,e.panelChild.setChildIndex(e.darkSprite,e.panelChild.getChildIndex(i)-1))}function s(t){if(t){for(var i=e.pool.length-1;i>=0;i--)if(e.pool[i]==t){for(var s=i;s<e.pool.length;s++)e.pool[s]=e.pool[s+1];e.pool.length-=1}}else t=e.pool.pop();e.panelChild.contains(t)&&e.panelChild.removeChild(t),0==e.pool.length?e.darkSprite.visible=!1:e.panelChild.setChildIndex(e.pool[e.pool.length-1],e.panelChild.getChildIndex(e.darkSprite)+1)}e.pool=[],e.panelChild=new egret.DisplayObjectContainer,e.addChild=i,e.remove=s}(panelMg||(panelMg={}));